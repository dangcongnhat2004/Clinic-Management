<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
  <title>Trang chủ</title>
</head>
<body>
<main layout:fragment="content">
  <!-- KHỐI CHÀO MỪNG -->
  <h2 class="mb-4 fw-light">Chào mừng trở lại</b>!</h2>

  <!-- KHỐI TÍNH NĂNG NHANH -->
  <div class="row g-4 mb-5">
    <div class="col-lg-3 col-md-6">
      <a th:href="@{/user/dat-lich}" class="text-decoration-none">
        <div class="card card-feature text-center p-3 shadow-sm border-0 h-100">
          <div class="card-body"><i class="fa-solid fa-calendar-plus fa-3x text-primary mb-3"></i><h5 class="card-title">Đặt lịch hẹn mới</h5></div>
        </div>
      </a>
    </div>
    <div class="col-lg-3 col-md-6">
      <a th:href="@{/user/lich-su-dat-kham}" class="text-decoration-none">
        <div class="card card-feature text-center p-3 shadow-sm border-0 h-100">
          <div class="card-body"><i class="fa-solid fa-calendar-check fa-3x text-success mb-3"></i><h5 class="card-title">Lịch sử khám</h5></div>
        </div>
      </a>
    </div>
    <div class="col-lg-3 col-md-6">
      <a th:href="@{/user/ket-qua-kham}" class="text-decoration-none">
        <div class="card card-feature text-center p-3 shadow-sm border-0 h-100">
          <div class="card-body"><i class="fa-solid fa-file-waveform fa-3x text-info mb-3"></i><h5 class="card-title">Kết quả khám</h5></div>
        </div>
      </a>
    </div>
    <div class="col-lg-3 col-md-6">
      <a th:href="@{/user/thong-tin-ca-nhan}" class="text-decoration-none">
        <div class="card card-feature text-center p-3 shadow-sm border-0 h-100">
          <div class="card-body"><i class="fa-solid fa-user-pen fa-3x text-warning mb-3"></i><h5 class="card-title">Hồ sơ của tôi</h5></div>
        </div>
      </a>
    </div>
  </div>

  <!-- KHỐI CHUYÊN KHOA NỔI BẬT -->
  <div class="mb-5" th:if="${not #lists.isEmpty(featuredSpecialties)}">
    <div class="section-header">
      <h3 class="fw-normal">Chuyên khoa nổi bật</h3>
      <a th:href="@{/chi-tiet/chuyen-khoa}" class="text-decoration-none">Xem tất cả <i class="fa-solid fa-arrow-right"></i></a>
    </div>
    <div class="row g-4">
      <div class="col-md-6 col-lg-4 col-xl-2" th:each="specialty : ${featuredSpecialties}">
        <a th:href="@{/chi-tiet/chi-tiet-chuyen-khoa/{id}(id=${specialty.id})}" class="text-decoration-none text-dark">
          <div class="card feature-item p-3 text-center h-100 border-0 shadow-sm">
            <i class="fa-solid fa-star-of-life fa-2x text-primary mb-3"></i>
            <h6 class="mb-0" th:text="${specialty.specialtyName}"></h6>
          </div>
        </a>
      </div>
    </div>
  </div>

  <!-- KHỐI BÁC SĨ NỔI BẬT -->
  <div class="mb-5" th:if="${not #lists.isEmpty(featuredDoctors)}">
    <div class="section-header"><h3 class="fw-normal">Bác sĩ nổi bật</h3><a th:href="@{/bac-si}" class="text-decoration-none">Xem tất cả <i class="fa-solid fa-arrow-right"></i></a></div>
    <div class="row g-4">
      <div class="col-lg-3 col-md-6" th:each="doctor : ${featuredDoctors}">
        <div class="card text-center border-0 shadow-sm h-100 team-item">
          <div class="card-body d-flex flex-column">
            <a th:href="@{/chi-tiet/bac-si/{id}(id=${doctor.id})}">
              <img th:src="${doctor.avatarUrl != null ? '/avatars/' + doctor.avatarUrl : '/images/default-avatar.png'}" alt="Bác sĩ" class="doctor-avatar mb-3">
            </a>
            <h5 class="card-title" th:text="${doctor.fullName}"></h5>
            <p class="card-text text-muted" th:if="${doctor.specialty != null}" th:text="${doctor.specialty.specialtyName}"></p>
            <a class="btn btn-outline-primary btn-sm mt-auto" th:href="@{/user/dat-lich/chon-lich(doctorId=${doctor.userAccount.id})}">Đặt lịch</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- KHỐI TIN TỨC MỚI NHẤT -->
  <div th:if="${not #lists.isEmpty(recentPosts)}">
    <div class="section-header">
      <h3 class="fw-normal">Tin tức, bài viết</h3>
      <a th:href="@{/chi-tiet/tin-tuc}" class="text-decoration-none">Xem tất cả <i class="fa-solid fa-arrow-right"></i></a>
    </div>
    <div class="row g-4">
      <div class="col-lg-6" th:each="post : ${recentPosts}">
        <a th:href="@{/chi-tiet/tin-tuc/{id}(id=${post.id})}" class="text-decoration-none text-dark">
          <div class="card article-card shadow-sm border-0 h-100">
            <div class="row g-0">
              <div class="col-md-4">
                <img th:src="@{/uploads/{image}(image=${post.image})}" class="img-fluid rounded-start h-100" alt="Bài viết" style="object-fit: cover;">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h5 class="card-title" th:text="${post.title}"></h5>
                  <p class="card-text text-muted small" th:text="${post.description}"></p>
                </div>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</main>
</body>
</html>