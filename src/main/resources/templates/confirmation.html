<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xác nhận đặt lịch - Clinic Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { background-color: #f0f2f5; }
        .confirmation-container {
            max-width: 800px;
            margin: 2rem auto;
            background-color: #fff;
            border-radius: 0.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
        }
        .confirmation-header {
            background-color: #00B5F1;
            color: white;
            padding: 1rem 1.5rem;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
        }
        .confirmation-body { padding: 1.5rem; }
        .info-card {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        .info-card h6 { font-weight: 600; }
        .form-check-label { width: 100%; }
        .payment-method {
            padding: 1rem;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            cursor: pointer;
        }
        .payment-method.selected {
            border-color: #0d6efd;
            box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.25);
        }
        .btn-confirm {
            background-color: #00B5F1;
            border-color: #00B5F1;
            color: white;
            padding: 0.75rem;
            font-size: 1.1rem;
            font-weight: bold;
        }
        .btn-confirm:hover { background-color: #0099cc; border-color: #0099cc; color: white; }

        /* Success Modal Styles */
        .modal-success .modal-content { border-radius: 1rem; }
        .modal-success .icon-box {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #e9f7ef;
            color: #198754;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: -60px auto 0;
            border: 4px solid #fff;
        }
        .modal-success .icon-box i { font-size: 2.5rem; }
        .info-highlight { background-color: #e3f8ff; border-radius: 0.5rem; padding: 1rem; }
    </style>
</head>
<body>
<!-- === PHẦN 1: GIAO DIỆN XÁC NHẬN ĐẶT LỊCH === -->
<div class="confirmation-container">
    <div class="confirmation-header d-flex align-items-center">
        <a href="javascript:history.back()" class="text-white me-3 fs-5"><i class="fa-solid fa-arrow-left"></i></a>
        <h4 class="mb-0">Xác nhận đặt lịch</h4>
    </div>
    <div class="confirmation-body">
        <div class="row g-4">
            <!-- Cột thông tin -->
            <div class="col-md-7">
                <!-- Thông tin bệnh nhân -->
                <div class="mb-4">
                    <h6>Bệnh nhân</h6>
                    <div class="info-card d-flex align-items-center">
                        <img src="https://i.pravatar.cc/60?img=1" class="rounded-circle me-3" alt="patient">
                        <div>
                            <strong>Trần Công Hoàng</strong>
                            <div class="small text-muted"><i class="fa-regular fa-envelope me-2"></i>conghoang@gmail.com</div>
                            <div class="small text-muted"><i class="fa-solid fa-phone me-2"></i>033783744</div>
                        </div>
                    </div>
                </div>
                <!-- Thông tin khám bệnh -->
                <div class="mb-4">
                    <h6>Thông tin khám bệnh</h6>
                    <div class="info-card">
                        <div class="d-flex align-items-center mb-2">
                            <img src="https://i.pravatar.cc/40?img=3" class="rounded-circle me-2" alt="doctor">
                            <div><strong>BS.CKII Nguyễn Văn An</strong><br><small class="text-muted">Khoa Tim mạch</small></div>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="fa-solid fa-location-dot fa-fw me-2 text-muted"></i>
                            <div><small>Bệnh viện Đại học Phan Châu Trinh, Phòng A102</small></div>
                        </div>
                    </div>
                </div>
                <!-- Ngày giờ hẹn -->
                <div class="mb-4">
                    <h6>Ngày giờ hẹn khám</h6>
                    <div class="info-card d-flex align-items-center">
                        <i class="fa-regular fa-calendar-days fs-4 me-3 text-primary"></i>
                        <strong>06/08/2024</strong>
                        <span class="badge bg-primary-subtle text-primary-emphasis rounded-pill ms-3">14:30 - 15:00</span>
                    </div>
                </div>
                <!-- Lý do khám -->
                <div class="mb-4">
                    <h6>Lý do khám bệnh, triệu chứng</h6>
                    <textarea class="form-control" rows="4" placeholder="Mô tả triệu chứng (không bắt buộc)"></textarea>
                </div>
            </div>
            <!-- Cột thanh toán -->
            <div class="col-md-5">
                <!-- Đối tượng -->
                <div class="mb-4">
                    <h6>Đối tượng</h6>
                    <div class="info-card">
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="insurance_options" id="has_insurance" value="bhyt" checked>
                            <label class="form-check-label" for="has_insurance">BHYT</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="insurance_options" id="no_insurance" value="no_bhyt">
                            <label class="form-check-label" for="no_insurance">Không BHYT</label>
                        </div>
                    </div>
                </div>

                <!-- Phương thức thanh toán -->
                <h6>Phương thức thanh toán</h6>
                <div class="info-card">
                    <div class="vstack gap-2" id="payment-methods">
                        <div class="form-check payment-method">
                            <input class="form-check-input" type="radio" name="payment_method" id="momo" value="momo" checked>
                            <label class="form-check-label" for="momo">Ví điện tử Momo</label>
                        </div>
                        <div class="form-check payment-method">
                            <input class="form-check-input" type="radio" name="payment_method" id="vnpay" value="vnpay">
                            <label class="form-check-label" for="vnpay">VNPay</label>
                        </div>
                        <div class="form-check payment-method">
                            <input class="form-check-input" type="radio" name="payment_method" id="atm" value="atm">
                            <label class="form-check-label" for="atm">Thẻ ATM nội địa</label>
                        </div>
                        <div class="form-check payment-method">
                            <input class="form-check-input" type="radio" name="payment_method" id="visa" value="visa">
                            <label class="form-check-label" for="visa">Thẻ Visa/MasterCard</label>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between">
                        <strong>Chi phí khám</strong>
                        <strong class="fs-5 text-primary">300.000đ</strong>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-grid mt-4">
            <button class="btn btn-confirm" id="confirm-payment-btn">Tiến hành thanh toán</button>
        </div>
    </div>
</div>


<!-- === PHẦN 2: MODAL THÔNG BÁO THÀNH CÔNG === -->
<div class="modal fade modal-success" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3">
            <div class="modal-header border-0">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class="icon-box">
                    <i class="fa-solid fa-check"></i>
                </div>
                <h3 class="mt-3">Đặt hẹn thành công</h3>

                <div class="info-highlight my-4">
                    <img src="https://i.pravatar.cc/80?img=5" class="rounded-circle mb-2" alt="doctor">
                    <h5 class="mb-1">BSCKII Lê Hoàng</h5>
                    <p class="text-muted mb-0">Khoa Tim mạch<br>Bệnh viện Đại học Phan Châu Trinh</p>
                </div>

                <div class="text-start">
                    <div class="d-flex align-items-center mb-3">
                        <img src="https://i.pravatar.cc/40?img=1" class="rounded-circle me-3" alt="patient">
                        <div><strong>Bệnh nhân:</strong> Trần Công Hoàng</div>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fa-regular fa-calendar-days fa-fw me-3 text-primary"></i>
                        <div><strong>Ngày giờ hẹn:</strong> 06/08/2024, 14:30 - 15:00</div>
                    </div>
                </div>

                <hr>

                <div class="d-flex justify-content-between align-items-center">
                    <strong class="fs-5">Phí khám bệnh</strong>
                    <strong class="fs-5 text-primary">300.000đ</strong>
                </div>
            </div>
            <div class="modal-footer border-0 d-grid gap-2 d-sm-flex justify-content-center">
                <a href="/booking" class="btn btn-outline-secondary">Đặt lịch mới</a>
                <a href="#" class="btn btn-primary" style="background-color: #00B5F1; border-color: #00B5F1;">Lịch sử đặt hẹn</a>
            </div>
        </div>
    </div>
</div>


<!-- === PHẦN 3: SCRIPT === -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    $(document).ready(function() {
        // Logic chọn phương thức thanh toán
        $('#payment-methods .form-check-input').on('change', function() {
            $('#payment-methods .payment-method').removeClass('selected');
            $(this).closest('.payment-method').addClass('selected');
        });

        // Kích hoạt trạng thái selected cho mục được chọn mặc định lúc tải trang
        $('#payment-methods .form-check-input:checked').closest('.payment-method').addClass('selected');

        // Logic hiển thị modal khi nhấn nút thanh toán
        $('#confirm-payment-btn').on('click', function() {
            // Trong thực tế, đây là nơi bạn sẽ gọi API thanh toán.
            // Sau khi API trả về thành công, bạn mới hiển thị modal.
            // Bây giờ, chúng ta sẽ hiển thị nó ngay lập tức để demo.

            var successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();
        });
    });
</script>
</body>
</html>